{"version":3,"sources":["Display.js","Keypad.js","Calculator.js","index.js"],"names":["Display","dispValue","id","ADD_VALUE","CLEAR","CALCULATE","Keypad","changeValue","useEffect","document","addEventListener","e","key","test","className","onClick","initialState","value","calculate","divRegex","mulRegex","subRegex","addRegex","replace","_","$1","length","$2","parseFloat","sanitize","opRegex","decCount","newStr","split","filter","item","join","store","createStore","state","action","type","ConDisplay","connect","console","log","ConKeypad","dispatch","category","actionCreator","Calculator","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3e624469.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Display.css\";\r\n\r\nfunction Display({dispValue}){\r\n  return(\r\n    <div id=\"display\">\r\n      {dispValue? dispValue : 0}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Display;","import React, {useEffect} from \"react\";\r\nimport \"./Keypad.css\";\r\n\r\nconst ADD_VALUE = \"ADD_VALUE\";\r\nconst CLEAR = \"CLEAR\";\r\nconst CALCULATE = \"CALCULATE\";\r\n\r\nfunction Keypad({changeValue}){\r\n\r\n  useEffect(()=>{\r\n    document.addEventListener(\"keydown\", (e)=>{\r\n      const {key} = e;\r\n      let opRegex = /[+\\-x/\\.\\d]/\r\n      if(key === \"=\"){\r\n        changeValue(CALCULATE);\r\n        return;\r\n      } else if( key === \"Escape\"){\r\n        changeValue(CLEAR, \"\");\r\n        return;\r\n      }else if (opRegex.test(key)){\r\n        changeValue(ADD_VALUE, key);\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <div id=\"Keypad\">\r\n      <button id=\"clear\" className=\"col-2\" onClick={(e)=>changeValue(CLEAR, \"\")}>AC</button>\r\n      <button id=\"divide\" className=\"operator\" onClick={(e)=>changeValue(ADD_VALUE, \"/\")}>/</button>\r\n      <button id=\"multiply\" className=\"operator\" onClick={(e)=>changeValue(ADD_VALUE, \"x\")}>x</button>\r\n      <button id=\"seven\" className=\"number\" onClick={(e)=>changeValue(ADD_VALUE, \"7\")}>7</button>\r\n      <button id=\"eight\" className=\"number\" onClick={(e)=>changeValue(ADD_VALUE, \"8\")}>8</button>\r\n      <button id=\"nine\" className=\"number\" onClick={(e)=>changeValue(ADD_VALUE, \"9\")}>9</button>\r\n      <button id=\"subtract\" className=\"operator\" onClick={(e)=>changeValue(ADD_VALUE, \"-\")}>-</button>\r\n      <button id=\"four\" className=\"number\" onClick={(e)=>changeValue(ADD_VALUE, \"4\")}>4</button>\r\n      <button id=\"five\" className=\"number\" onClick={(e)=>changeValue(ADD_VALUE, \"5\")}>5</button>\r\n      <button id=\"six\" className=\"number\" onClick={(e)=>changeValue(ADD_VALUE, \"6\")}>6</button>\r\n      <button id=\"add\" className=\"operator\" onClick={(e)=>changeValue(ADD_VALUE, \"+\")}>+</button>\r\n      <button id=\"one\" className=\"number\" onClick={(e)=>changeValue(ADD_VALUE, \"1\")}>1</button>\r\n      <button id=\"two\" className=\"number\" onClick={(e)=>changeValue(ADD_VALUE, \"2\")}>2</button>\r\n      <button id=\"three\" className=\"number\" onClick={(e)=>changeValue(ADD_VALUE, \"3\")}>3</button>\r\n      <button id=\"equals\" className=\"row-2\" onClick={(e)=>changeValue(CALCULATE)}>=</button>\r\n      <button id=\"zero\" className=\"number col-2\" onClick={(e)=>changeValue(ADD_VALUE, \"0\")}>0</button>\r\n      <button id=\"decimal\" onClick={(e)=>changeValue(ADD_VALUE, \".\")}>.</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Keypad;","import React from \"react\";\r\nimport \"./Calculator.css\";\r\nimport Display from \"./Display\";\r\nimport Keypad from \"./Keypad\";\r\nimport {createStore} from \"redux\";\r\nimport { Provider,connect } from \"react-redux\";\r\n\r\nconst ADD_VALUE = \"ADD_VALUE\";\r\nconst CLEAR = \"CLEAR\";\r\nconst CALCULATE = \"CALCULATE\";\r\n\r\nconst initialState = {\r\n  value : \"\"\r\n}\r\n\r\nfunction calculate(value){\r\n  let cleanRegex = /(?<=-?\\d+)[+\\-x/]([+\\-x/]*[+x/])/g;\r\n  let divRegex = /(-?\\d+\\.\\d+|-?\\d+)\\/(-?\\d+\\.\\d+|-?\\d+)/;\r\n  let mulRegex = /(-?\\d+\\.\\d+|-?\\d+)x(-?\\d+\\.\\d+|-?\\d+)/;\r\n  let subRegex = /(-?\\d+\\.\\d+|-?\\d+)-(-?\\d+\\.\\d+|-?\\d+)/;\r\n  let addRegex = /(-?\\d+\\.\\d+|-?\\d+)\\+(-?\\d+\\.\\d+|-?\\d+)/;\r\n  \r\n  value = value.replace(cleanRegex, (_, $1)=>{\r\n    return $1[$1.length-1];\r\n  });\r\n\r\n  while(divRegex.test(value)){\r\n    value = value.replace(divRegex, (_, $1, $2)=>{\r\n      return parseFloat($1)/parseFloat($2);\r\n    })\r\n  }\r\n  while(mulRegex.test(value)){\r\n    value = value.replace(mulRegex, (_, $1, $2)=>{\r\n      return parseFloat($1)*parseFloat($2);\r\n    })\r\n  }\r\n  while(subRegex.test(value)){\r\n    value = value.replace(subRegex, (_, $1, $2)=>{\r\n      return parseFloat($1)-parseFloat($2);\r\n    })\r\n  }\r\n  while(addRegex.test(value)){\r\n    value = value.replace(addRegex, (_, $1, $2)=>{\r\n      return parseFloat($1)+parseFloat($2);\r\n    })\r\n  }\r\n  return value;\r\n}\r\n\r\nfunction sanitize(value){\r\n  let opRegex = /^[+\\-x/]$/;\r\n  let decCount = 0;\r\n  let arr = value.split(\"\");\r\n  let newArr = arr.filter(item=>{\r\n    if(item===\".\"){\r\n      decCount++;\r\n      if(decCount >1){\r\n        return false;\r\n      }\r\n    }else if(opRegex.test(item)){\r\n      decCount = 0;\r\n    }\r\n    return true;\r\n  })\r\n\r\n  let newStr = newArr.join(\"\");\r\n  let zeroRegex = /(?<=[+\\-x/])0(0+)(?=\\d)|^0(0+)/g;\r\n  newStr = newStr.replace(zeroRegex, '0');\r\n  return newStr;\r\n}\r\n\r\nconst reducer = (state = initialState, action)=>{\r\n  switch(action.type){\r\n    case ADD_VALUE : return {value : sanitize(state.value + action.value)};\r\n    case CLEAR : return {value : action.value};\r\n    case CALCULATE : return {value : calculate(state.value)};\r\n    default : return state;\r\n  }\r\n}\r\n\r\nconst actionCreator = (category, value)=>{\r\n  switch(category){\r\n  case ADD_VALUE : return {type : ADD_VALUE, value};\r\n  case CLEAR : return {type : CLEAR, value};\r\n  case CALCULATE : return { type : CALCULATE};\r\n  default : return {type : \"NOTHING\"};\r\n  }\r\n}\r\n\r\nconst store = createStore(reducer);\r\n\r\nconst mapStateToProps = (state)=>{\r\n  console.log(state.value);\r\n  return {\r\n    dispValue : state.value\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>{\r\n  return {\r\n    changeValue : (category, value)=>dispatch(actionCreator(category, value))\r\n  }\r\n}\r\n\r\nconst ConDisplay = connect(mapStateToProps, null)(Display);\r\nconst ConKeypad = connect(null, mapDispatchToProps)(Keypad);\r\n\r\nfunction Calculator(){\r\n  return(\r\n    <div id=\"Calculator\">\r\n      <Provider store={store}>\r\n        <ConDisplay />\r\n        <ConKeypad />    \r\n      </Provider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Calculator;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Calculator from \"./Calculator\";\n\nReactDOM.render(\n    <Calculator />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}